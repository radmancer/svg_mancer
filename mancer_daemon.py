import time
import os
import sys
file1 = open("svg_mancer.html","r")
file2 = open("js/svg_mancer.js","r")
svg_mancer_html = file1.read()
svg_mancer_js = file2.read()
title = """                                                                                                                                              
  .--.--.                ,----..   
 /  /    '.       ,---. /   /   \  
|  :  /`. /      /__./||   :     : 
;  |  |--`  ,---.;  ; |.   |  ;. / 
|  :  ;_   /___/ \  | |.   ; /--`  
 \  \    `.\   ;  \ ' |;   | ;  __ 
  `----.   \\   \  \: ||   : |.' .'
  __ \  \  | ;   \  ' ..   | '_.' :
 /  /`--'  /  \   \   ''   ; : \  |
'--'.     /    \   `  ;'   | '/  .'
  `--'---'      :   \ ||   :    /  
                 '---"  \   \ .'   
                         `---`     
"""
title += """
          ____                          ,--.                                 
        ,'  , `.   ,---,              ,--.'|  ,----..      ,---,.,-.----.    
     ,-+-,.' _ |  '  .' \         ,--,:  : | /   /   \   ,'  .' |\    /  \   
  ,-+-. ;   , || /  ;    '.    ,`--.'`|  ' :|   :     :,---.'   |;   :    \  
 ,--.'|'   |  ;|:  :       \   |   :  :  | |.   |  ;. /|   |   .'|   | .\ :  
|   |  ,', |  '::  |   /\   \  :   |   \ | :.   ; /--` :   :  |-,.   : |: |  
|   | /  | |  |||  :  ' ;.   : |   : '  '; |;   | ;    :   |  ;/||   |  \ :  
'   | :  | :  |,|  |  ;/  \   \'   ' ;.    ;|   : |    |   :   .'|   : .  /  
;   . |  ; |--' '  :  | \  \ ,'|   | | \   |.   | '___ |   |  |-,;   | |  \  
|   : |  | ,    |  |  '  '--'  '   : |  ; .''   ; : .'|'   :  ;/||   | ;\  \ 
|   : '  |/     |  :  :        |   | '`--'  '   | '/  :|   |    \:   ' | \.' 
;   | |`-'      |  | ,'        '   : |      |   :    / |   :   .':   : :-'   
|   ;/          `--''          ;   |.'       \   \ .'  |   | ,'  |   |.'     
'---'                          '---'          `---`    `----'    `---'       
 """
print title
time.sleep(1)
mancer_cartoon = """
********************************************/(((#%##//******************************************
****************************************/(((/*******/(((/*,*************************************
**************************************#(/***************(#(/************************************
***********************************/#%/*******************(#(/**********************************
**********************************/##******(######((*******/%#**********************************
*********************************/(/****(%&/(((((###(/*****%(***********************************
********************************/#/****/@(*/*******//(%(/****/%(********************************
******************************/(%*****#%#/***********/(%#/****/%/*******************************
*****************************/#(****/&%/****************#%(****#%/******************************
***************************//#(****/%#/******************#%(/***##******************************
***************************(%(****/%#/********************/%(****((*****************************
**************************/%(****/%#/************************(****#(****************************
*************************/((/****#&/************************/%%(***%#***************************
************************/##/****##/***************************(&(***#/**************************
************************(#/***/(%//***************************/#%(***#(*************************
***********************/%/****((((((//***************#%(***#/***#%/*/%(*************************
**********************/(*****(%((//****/(/**********%#******//****(%/**#(***********************
*********************/#/****/&/***//*****/(/*******%/****/((/******(&**/##**********************
********************/(/*****%#*****/((///(#&******/(####%(/*********(#**/#%/********************
********************#/*****%%****************************************%#**/##/*******************
*******************/(*****(&*****************************************(%/**/##*******************
******************/#*****/&(********^%^%#$#####%#==##((%#^%^^*********/#(****##/****************
******************(/*****(#(*********\\?****************/?************/#(****/%/****************
*****************(*******/#%/**********\\*************//**************/%(*****((****************
*****************(*********(%%(/**********^^#######^^^***************(&(/*****/%/***************
****************/#************/##%%/,,*********************///(%%%%%(//******#%/****************
****************/((/**************/(##%##((/*********(%#&%%#((/************/%#/*****************
******************((//**********************#%&&%##&&%//*******////(##%%%##(/*******************
********************////////###%#/**********,&/,*/%%#%%****//&&&%%#//***************************
"""
print mancer_cartoon

mancer_prompt = "THE SVG MANCER HAS AWOKEN FROM HIS MILLENNIUM-LONG SLEEP, HOW MAY HE BE OF SERVICE?\n"
for character in mancer_prompt:
    sys.stdout.write(character)
    sys.stdout.flush()
    time.sleep(0.01)
input_number = raw_input("1) Save geometry\n2) Summon a circle.\n3) Summon a curve.\n4) DESTROY ALL!\n###?:")

start_tag_replacement = "<!--^^^-->\n            "
start_tag = "<!--^^^-->";
new_html = ""
new_js = ""
js_array = []
file1.close()
file2.close()
if (input_number == "1"):
    js_array = svg_mancer_js.split("/*@@@*/")
    os.system("cls")
    svg_properties = raw_input("Copy and paste the geometry from SVG Mancer. (press G in the app)\n###?:")
    new_js = js_array[0] + "/*@@@*/'" + svg_properties + "'/*@@@*/" + js_array[2]
    file2 = open("js/svg_mancer.js","w") 
    file2.write(new_js)
    file2.close()
elif (input_number == "2"):
    color = raw_input("A color is needed, sire.\n###?:")
    circle_html = "<svg><circle cx='200' cy='200' r='100' fill='" + color + "' /></svg>"
    new_html = svg_mancer_html.replace("<!--^^^-->", start_tag_replacement + circle_html)
    file1 = open("svg_mancer.html","w") 
    file1.write(new_html)
    file1.close()
elif(input_number == "3"):
    color = raw_input("A color is needed, sire.\n###?:")
    curve_html = """<svg>
                <path id='lineAB' d='M 100 350 l 150 -300' stroke='red' stroke-width='3' stroke-dasharray='5,5' fill='none' />
                <path id='lineBC' d='M 250 50 l 150 300' stroke='red' stroke-width='3' stroke-dasharray='5,5' fill='none' />
                <path id='bezierCurve' d='M 100 350 q 150 -300 300 0' stroke='%s' stroke-width='1' fill='none' />
                <g id='points' stroke='%s' stroke-width='3' fill='%s'>
                    <circle id='pointA' cx='100' cy='350' r='3' />
                    <circle id='pointB' cx='250' cy='50' r='3' />
                    <circle id='pointC' cx='400' cy='350' r='3' />
                </g>
                <g id='labels' font-size='30' font-family='sans-serif' fill='%s' stroke='none' text-anchor='middle'>
                    <text id='pointALabel' x='100' y='350' dx='-30'>A</text>
                    <text id='pointBLabel' x='250' y='50' dy='-10'>B</text>
                    <text id='pointCLabel' x='400' y='350' dx='30'>C</text>
                </g>
            </svg>""" % (color, color, color, color)
    new_html = svg_mancer_html.replace("<!--^^^-->", start_tag_replacement + curve_html)
    file1 = open("svg_mancer.html","w") 
    file1.write(new_html)
    file1.close()
elif(input_number == "4"):
    sanity_check = raw_input("This is a serious request sire, are you sure? [y/n]\n###?:")
    if(sanity_check == "y"):
        html_array_1 = svg_mancer_html.split("<!--^^^-->")
        html_array_2 = svg_mancer_html.split("<!--$$$-->")
        new_html = html_array_1[0] + "<!--^^^-->\n            <!--$$$-->" + html_array_2[1]
        file1 = open("svg_mancer.html","w") 
        file1.write(new_html)
        file1.close()

print mancer_cartoon
mancer_prompt = "\"HEEHEEHAAHAHH!\" THE MANCER LAUGHS AND WARPS BACK TO HIS DIMENSION.\n"
for character in mancer_prompt:
    sys.stdout.write(character)
    sys.stdout.flush()
    time.sleep(0.01)